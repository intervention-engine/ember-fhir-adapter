// Generated by CoffeeScript 1.9.3
import Ember from 'ember';
import DS from 'ember-data';
var MedicationStatement;

MedicationStatement = DS.Model.extend({
  identifier: DS.hasMany('identifier'),
  patient: DS.belongsTo('resource-reference'),
  wasNotGiven: DS.attr('boolean'),
  reasonNotGiven: DS.hasMany('codeable-concept'),
  whenGiven: DS.belongsTo('period'),
  medication: DS.belongsTo('medication', {
    async: true
  }),
  device: DS.hasMany('resource-reference'),
  dosage: DS.hasMany('dosage'),
  startDate: Ember.computed('whenGiven', function() {
    return this.get('whenGiven.start');
  }),
  endDate: Ember.computed('whenGiven', function() {
    return this.get('whenGiven.end');
  }),
  text: Ember.computed('medication', function() {
    return this.get('medication.text');
  }),
  active: (function() {
    return (this.get('whenGiven.end') == null) || (this.get('whenGiven.end') > new Date());
  }).property('whenGiven.end')
});

export default MedicationStatement;
